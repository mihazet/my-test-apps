# =========================================================================
#     This makefile was generated by
#     Bakefile 0.1.9 (http://bakefile.sourceforge.net)
#     Do not modify, all changes will be overwritten!
# =========================================================================



# -------------------------------------------------------------------------
# These are configurable options:
# -------------------------------------------------------------------------

# C++ compiler 
CXX = g++

# Standard flags for C++ 
CXXFLAGS = 

# Standard preprocessor flags (common for CC and CXX) 
CPPFLAGS = 

# Standard linker flags 
LDFLAGS = 

# Location and arguments of wx-config script 
WX_CONFIG = wx-config

# C++ flags to use with wxWidgets code 
WX_CXXFLAGS = `$(WX_CONFIG) --cxxflags`

# Set to 1 to build debug version [0,1]
DEBUG = 0

#  
GPIB = 0



# -------------------------------------------------------------------------
# Do not modify the rest of this file!
# -------------------------------------------------------------------------

### Variables: ###

CPPDEPS = -MT$@ -MF`echo $@ | sed -e 's,\.o$$,.d,'` -MD
WXTERM_CXXFLAGS = -DGPIB=$(GPIB) -I../src -D_THREAD_SAFE -pthread -I../include \
	$(____DEBUG_3_p) $(____DEBUG_4_5) $(____DEBUG_6) $(WX_CXXFLAGS) $(CPPFLAGS) \
	$(CXXFLAGS)
WXTERM_OBJECTS =  \
	$(OUTPUT)/wxterm_about.o \
	$(OUTPUT)/wxterm_color_wdr.o \
	$(OUTPUT)/wxterm_config.o \
	$(OUTPUT)/wxterm_connection_wdr.o \
	$(OUTPUT)/wxterm_console.o \
	$(OUTPUT)/wxterm_dataview.o \
	$(OUTPUT)/wxterm_dbgprint.o \
	$(OUTPUT)/wxterm_dump.o \
	$(OUTPUT)/wxterm_logging_wdr.o \
	$(OUTPUT)/wxterm_main.o \
	$(OUTPUT)/wxterm_menu.o \
	$(OUTPUT)/wxterm_modbase.o \
	$(OUTPUT)/wxterm_modserial.o \
	$(OUTPUT)/wxterm_portsel.o \
	$(OUTPUT)/wxterm_prefs.o \
	$(OUTPUT)/wxterm_statbar.o \
	$(OUTPUT)/wxterm_toolbar.o \
	$(__GPIBSRC_OBJECTS)

### Conditionally set variables: ###

ifeq ($(DEBUG),0)
OUTPUT = release
endif
ifeq ($(DEBUG),1)
OUTPUT = debug
endif
ifeq ($(DEBUG),1)
LIBFLAG = d
endif
ifeq ($(DEBUG),0)
BEFORE_WX_LIBS = `$(WX_CONFIG) --libs html,core,base,adv,net  --debug=no`
endif
ifeq ($(DEBUG),1)
BEFORE_WX_LIBS = `$(WX_CONFIG) --libs html,core,base,adv,net  --debug=yes`
endif
ifeq ($(GPIB),1)
GPIBFLAG = _gpib
endif
ifeq ($(GPIB),1)
__GPIBSRC_OBJECTS =  \
	$(OUTPUT)/wxterm_gpib_wdr.o \
	$(OUTPUT)/wxterm_modgpib.o
endif
ifeq ($(DEBUG),0)
____DEBUG_3_p = -DNDEBUG
endif
ifeq ($(DEBUG),1)
____DEBUG_3_p = 
endif
ifeq ($(DEBUG),0)
____DEBUG_4_5 = -O2
endif
ifeq ($(DEBUG),1)
____DEBUG_4_5 = -O0
endif
ifeq ($(DEBUG),0)
____DEBUG_6 = 
endif
ifeq ($(DEBUG),1)
____DEBUG_6 = -g
endif


all: $(OUTPUT)
$(OUTPUT):
	@mkdir -p $(OUTPUT)

### Targets: ###

all: $(OUTPUT)/wxterm

install: all

uninstall: 

clean: 
	rm -f $(OUTPUT)/*.o
	rm -f $(OUTPUT)/*.d
	rm -f $(OUTPUT)/wxterm

tarball: 
	(cd ..; tar -cvzf wxterm-0.6.tar.gz \
	--exclude=wxterm \
	--exclude=wxterm.exe \
	--exclude=*.a \
	--exclude=*.d \
	--exclude=debug \
	--exclude=*.dll \
	--exclude=docs \
	--exclude=*.ilk \
	--exclude=*0.6* \
	--exclude=*.log \
	--exclude=*.o* \
	--exclude=*.pdb \
	--exclude=*.pyc \
	--exclude=release \
	--exclude=*.so \
	--exclude=SVN* \
	--exclude=.svn \
	--exclude=wxterm_*.zip \
	--exclude=*~ \
	--exclude=*.___\
	--exclude=*.o* *)

$(OUTPUT)/wxterm: $(WXTERM_OBJECTS)
	$(CXX) -o $@ $(WXTERM_OBJECTS) $(LDFLAGS)  -pthread $(____DEBUG_6)  $(BEFORE_WX_LIBS)  -lwxawx$(LIBFLAG)-0.4 -lwxctb$(LIBFLAG)$(GPIBFLAG)-0.13

$(OUTPUT)/wxterm_about.o: ./../src/about.cpp
	$(CXX) -c -o $@ $(WXTERM_CXXFLAGS) $(CPPDEPS) $<

$(OUTPUT)/wxterm_color_wdr.o: ./../src/color_wdr.cpp
	$(CXX) -c -o $@ $(WXTERM_CXXFLAGS) $(CPPDEPS) $<

$(OUTPUT)/wxterm_config.o: ./../src/config.cpp
	$(CXX) -c -o $@ $(WXTERM_CXXFLAGS) $(CPPDEPS) $<

$(OUTPUT)/wxterm_connection_wdr.o: ./../src/connection_wdr.cpp
	$(CXX) -c -o $@ $(WXTERM_CXXFLAGS) $(CPPDEPS) $<

$(OUTPUT)/wxterm_console.o: ./../src/console.cpp
	$(CXX) -c -o $@ $(WXTERM_CXXFLAGS) $(CPPDEPS) $<

$(OUTPUT)/wxterm_dataview.o: ./../src/dataview.cpp
	$(CXX) -c -o $@ $(WXTERM_CXXFLAGS) $(CPPDEPS) $<

$(OUTPUT)/wxterm_dbgprint.o: ./../src/dbgprint.cpp
	$(CXX) -c -o $@ $(WXTERM_CXXFLAGS) $(CPPDEPS) $<

$(OUTPUT)/wxterm_dump.o: ./../src/dump.cpp
	$(CXX) -c -o $@ $(WXTERM_CXXFLAGS) $(CPPDEPS) $<

$(OUTPUT)/wxterm_logging_wdr.o: ./../src/logging_wdr.cpp
	$(CXX) -c -o $@ $(WXTERM_CXXFLAGS) $(CPPDEPS) $<

$(OUTPUT)/wxterm_main.o: ./../src/main.cpp
	$(CXX) -c -o $@ $(WXTERM_CXXFLAGS) $(CPPDEPS) $<

$(OUTPUT)/wxterm_menu.o: ./../src/menu.cpp
	$(CXX) -c -o $@ $(WXTERM_CXXFLAGS) $(CPPDEPS) $<

$(OUTPUT)/wxterm_modbase.o: ./../src/modbase.cpp
	$(CXX) -c -o $@ $(WXTERM_CXXFLAGS) $(CPPDEPS) $<

$(OUTPUT)/wxterm_modserial.o: ./../src/modserial.cpp
	$(CXX) -c -o $@ $(WXTERM_CXXFLAGS) $(CPPDEPS) $<

$(OUTPUT)/wxterm_portsel.o: ./../src/portsel.cpp
	$(CXX) -c -o $@ $(WXTERM_CXXFLAGS) $(CPPDEPS) $<

$(OUTPUT)/wxterm_prefs.o: ./../src/prefs.cpp
	$(CXX) -c -o $@ $(WXTERM_CXXFLAGS) $(CPPDEPS) $<

$(OUTPUT)/wxterm_statbar.o: ./../src/statbar.cpp
	$(CXX) -c -o $@ $(WXTERM_CXXFLAGS) $(CPPDEPS) $<

$(OUTPUT)/wxterm_toolbar.o: ./../src/toolbar.cpp
	$(CXX) -c -o $@ $(WXTERM_CXXFLAGS) $(CPPDEPS) $<

$(OUTPUT)/wxterm_gpib_wdr.o: ./../src/gpib_wdr.cpp
	$(CXX) -c -o $@ $(WXTERM_CXXFLAGS) $(CPPDEPS) $<

$(OUTPUT)/wxterm_modgpib.o: ./../src/modgpib.cpp
	$(CXX) -c -o $@ $(WXTERM_CXXFLAGS) $(CPPDEPS) $<

.PHONY: all install uninstall clean


# Dependencies tracking:
-include $(OUTPUT)/*.d
